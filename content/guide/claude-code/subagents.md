---
title: "4-6. 클로드코드 서브에이전트"
order: 6
---

## 서브에이전트란? -- 회사의 "전문가 직원"

<Callout type="info" title="회사 조직으로 이해하기">

여러분이 **팀장**이라고 상상해 보세요.

모든 일을 혼자 하면 금방 지치고, 실수도 늘어납니다. 그래서 전문가 직원에게 업무를 **위임**하죠.

서브에이전트가 바로 이 **"전문가 직원"** 입니다.

- 메인 AI(팀장)가 작업을 파악하고
- 전문 분야별 서브에이전트(직원)에게 **위임**하고
- 각 직원이 **독립적으로** 처리한 뒤 **결과만 보고**합니다

</Callout>

**공식 정의**: Subagent는 자체 컨텍스트 윈도우, 시스템 프롬프트, 도구 권한을 가진 **독립적인 Claude 인스턴스**입니다. 메인 AI(팀장)가 작업을 특화된 하위 AI(팀원)에게 위임합니다.

---

## 왜 서브에이전트가 필요한가?

<LevelBox title="문제: 한 사람이 모든 일을 하면?">

회사에서 기획, 디자인, 개발, 마케팅을 한 사람이 전부 하면 어떻게 될까요?

- 머릿속이 복잡해져서 **판단력이 떨어짐**
- 전문성이 부족해서 **품질이 낮아짐**
- 이전에 논의한 내용을 **잊어버림**

AI도 똑같습니다. 클로드코드의 **컨텍스트(기억 공간)가 45%를 넘으면 품질이 저하**됩니다.

</LevelBox>

<LevelBox title="해결: 전문가에게 나눠 맡기기">

서브에이전트를 사용하면:

- 각 서브에이전트가 **독립된 기억 공간(컨텍스트)** 을 가짐
- 메인 대화방을 **어지럽히지 않음** (팀장 머리가 깨끗하게 유지됨)
- 전문 분야만 집중해서 **높은 품질**로 처리
- 완료 후 **핵심 결과만 요약 보고**

</LevelBox>

---

## 비개발자를 위한 실전 비유

<Callout type="success" title="콘텐츠 마케팅 팀 비유">

유튜브 채널을 운영한다고 가정해 봅시다.

**팀장(메인 AI)**: "이번 주 영상 3개 올리자"

- **기획자(Plan 서브에이전트)**: 주제 조사, 트렌드 분석, 대본 구조 설계
- **글작가(Explore 서브에이전트)**: 기존 콘텐츠 분석, 참고 자료 수집
- **제작자(General-purpose 서브에이전트)**: 실제 대본 작성, 썸네일 기획, 설명란 작성

각자 **자기 방(독립 컨텍스트)** 에서 작업하고, 팀장에게는 **완성된 결과물만** 전달합니다.

</Callout>

---

## 내장 서브에이전트 3종

클로드코드에는 기본으로 3가지 전문가 직원이 내장되어 있습니다.

| 이름 | 역할 | 회사 비유 | 도구 권한 | 사용 시기 |
|------|------|---------|---------|---------|
| **Explore** | 읽기 전용 코드 분석 | 조사/리서치 담당 인턴 | Read, Grep, Glob | 자료 조사, 현황 파악이 필요할 때 |
| **Plan** | 계획 전 조사 | 기획팀 직원 | Read, Grep, Glob | 전략 수립, 실행 계획을 세울 때 |
| **General-purpose** | 탐색 + 실행 모두 | 시니어 만능 직원 | 모든 도구 | 복잡한 다단계 작업 처리 |

---

## 서브에이전트 작동 과정

일반 회사의 업무 위임 과정과 동일합니다.

```
1. 팀장(메인 AI) → "이 업무를 처리해야겠다" (작업 식별)
2. 팀장 → 전문가 직원 호출 (구체적 지시사항 전달)
3. 직원 → 자기 사무실(독립 컨텍스트)에서 업무 수행
4. 직원 → 핵심 요약만 보고 (전체 과정이 아닌 결과!)
5. 팀장 → 보고서를 받아 다음 단계 진행
```

<Callout type="warning" title="핵심 포인트: 요약 보고">

서브에이전트는 작업한 **전체 내용**이 아니라 **핵심 요약만 반환**합니다.

마치 직원이 100페이지 보고서를 만들었어도, 팀장에게는 **1페이지 요약본**만 올리는 것과 같습니다. 그래서 "어떤 형식으로 보고해라"라고 **출력 형식을 명확히 지정**하는 것이 중요합니다.

</Callout>

---

## 서브에이전트 체이닝 -- 릴레이 업무

서브에이전트를 순서대로 연결하면, 마치 공장의 **조립 라인**처럼 작업이 흘러갑니다.

```
조사 단계: Explore → "관련 자료 3건 발견, 핵심 내용 정리 완료"
  ↓
실행 단계: Implementer → "자료 기반으로 문서 2개 작성 완료"
  ↓
검증 단계: Test Runner → "품질 검사 통과, 완성도 94%"
```

비개발자 예시로 보면:

```
리서치 담당 → "경쟁사 3곳 분석 완료, 보고서 작성"
  ↓
기획 담당 → "차별화 전략 2가지 수립 완료"
  ↓
마케팅 담당 → "SNS 콘텐츠 12개 제작 완료, 일정표 작성"
```

---

## 커스텀 서브에이전트 만들기

내장 서브에이전트 외에 **나만의 전문가 직원**을 만들 수 있습니다.

**예시 -- 보안 리뷰 전문가**:
```yaml
---
name: security-reviewer
tools: Read, Grep, Glob
---

당신은 보안 중심의 리뷰어입니다:
1. 인증/권한 격차 확인
2. 인젝션 취약점 검사 (SQL, XSS 등)
3. 민감 데이터 노출 식별
4. 안전하지 않은 의존성 플래그

심각도별 분류: critical, high, medium, low
```

**비개발자 예시 -- 브랜드 톤 검수 전문가**:
```yaml
---
name: brand-tone-checker
tools: Read, Grep, Glob
---

당신은 브랜드 톤앤매너 검수 전문가입니다:
1. 작성된 콘텐츠가 브랜드 가이드라인에 맞는지 확인
2. 부적절한 표현이나 경쟁사 언급 여부 검사
3. 타겟 고객층에 맞는 언어 수준인지 평가
4. 일관된 호칭과 문체 사용 여부 확인

결과는 "통과 / 수정 필요 / 재작성 필요"로 분류
```

---

## 서브에이전트 + 스킬 + 훅의 조합

<Callout type="tip" title="세 가지가 함께 작동하는 실전 시나리오">

**시나리오: 유튜브 영상 URL을 주면 블로그 글이 자동으로 완성되는 워크플로우**

1. **훅(자동 감지)**: 유튜브 URL이 입력되면 자동으로 "콘텐츠 제작 모드" 시작
2. **서브에이전트(전문가 직원)**: 기획 담당이 영상 내용 분석하고 블로그 구조 설계
3. **스킬(업무 매뉴얼)**: "블로그 작성 스킬"에 정의된 형식과 톤으로 글 작성
4. **훅(자동 알림)**: 작업 완료 시 슬랙으로 알림 전송

이처럼 **훅이 시작을 감지**하고, **서브에이전트가 전문적으로 처리**하고, **스킬이 품질 기준을 제공**합니다.

</Callout>

---

<Callout type="tip" title="한줄 요약">
서브에이전트는 "전문가 직원"입니다. 컨텍스트 45% 넘으면 전문가에게 분산하여, 메인 대화를 깨끗하게 유지하면서 품질을 높이세요.
</Callout>
