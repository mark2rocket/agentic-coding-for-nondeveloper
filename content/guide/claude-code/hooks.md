---
title: "4-7. 클로드코드 훅"
order: 7
---

## 훅이란? -- "자동 감지 센서 & 알림 시스템"

<Callout type="info" title="회사 조직으로 이해하기">

건물에 들어서면 **자동문**이 열리고, 화재가 나면 **스프링클러**가 작동하고, 퇴근 시간이 되면 **조명이 자동으로 꺼집니다**.

아무도 수동으로 조작하지 않아도, **특정 상황이 감지되면 자동으로 반응**하는 시스템이죠.

훅(Hook)이 바로 이 **"자동 감지 센서 & 알림 시스템"** 입니다.

- 특정 **이벤트가 발생**하면 자동으로 반응하는 스크립트
- 사람이 매번 챙기지 않아도 **알아서 작동**
- 반복적인 작업을 자동화하여 **실수를 방지**

</Callout>

**공식 정의**: 특정 이벤트가 발생하면 자동으로 반응하는 스크립트입니다. 반복적인 작업을 자동화하여 실수를 줄여줍니다.

---

## 왜 훅이 필요한가?

<LevelBox title="훅 없이 수동으로 챙기면?">

매번 이런 것들을 직접 기억하고 실행해야 합니다:

- 파일 저장할 때마다 "맞춤법 검사 돌려야지..."
- 작업 완료할 때마다 "팀에 알려야지..."
- 코드 커밋할 때마다 "린트 검사 먼저 해야지..."
- 새 세션 시작할 때마다 "환경 설정 확인해야지..."

사람은 **잊어버립니다**. 특히 바쁠 때.

</LevelBox>

<LevelBox title="훅을 설정하면?">

한 번 설정하면 **영원히 자동**:

- 파일 저장 -- 자동으로 맞춤법/포맷 검사
- 작업 완료 -- 자동으로 팀 슬랙에 알림
- 코드 커밋 -- 자동으로 품질 검사 후 통과해야 커밋 가능
- 세션 시작 -- 자동으로 환경 설정 로드

"까먹을 수 있는 일"을 시스템이 대신 챙겨줍니다.

</LevelBox>

---

## 실생활 비유로 이해하기

<Callout type="success" title="일상 속 훅의 예시">

우리 주변에도 훅과 같은 자동화 장치가 이미 많습니다:

| 일상 속 자동 장치 | 클로드코드 훅 | 공통점 |
|-----------------|------------|-------|
| 현관문 열면 조명 켜짐 | 세션 시작 시 환경 설정 로드 | 특정 행동 감지 → 자동 반응 |
| 세탁기 완료 알림음 | 작업 완료 시 슬랙 알림 | 완료 감지 → 자동 알림 |
| 자동차 안전벨트 경고음 | 커밋 전 린트 검사 | 위험 감지 → 자동 경고 |
| 냉장고 문 열림 경고 | 에러 발생 시 로깅 | 이상 감지 → 자동 기록 |

</Callout>

---

## 훅 저장 위치

```bash
~/.claude/hooks/          # 전역 훅 (모든 프로젝트에 적용)
.claude/hooks/            # 프로젝트별 훅 (해당 프로젝트만)
```

---

## 주요 훅 종류

| Hook | 실행 시점 | 일상 비유 | 활용 예시 |
|------|---------|---------|---------|
| **pre-commit** | 커밋 전 | 제출 전 검수 단계 | 린트/포맷 자동 실행 |
| **post-save** | 파일 저장 후 | 문서 저장 후 자동 백업 | 테스트 자동 실행 |
| **on-error** | 에러 발생 시 | 비상 상황 자동 기록 | 에러 로깅, 알림 전송 |
| **session-start** | 세션 시작 시 | 출근 시 PC 자동 부팅 | 환경 설정, 상태 복원 |

---

## 비개발자를 위한 필수 훅 3가지

비개발자에게 **훅(Hook)**은 복잡한 코딩을 위한 것이 아니라, **'AI 비서가 나 대신 챙겨야 할 자동 센서'**를 달아주는 것과 같습니다.

실무에서 가장 유용하게 쓸 수 있는 추천 훅 3가지를 정리합니다. 이 설정들은 주로 **기억력 강화, 알림, 자동 기록**에 초점을 맞추고 있습니다.

### 1. 기억 상실 방지 훅 (PostToolUse - Memory Injection)

<LevelBox>

비개발자가 가장 답답해하는 것이 "방금 말했는데 왜 까먹어?" 하는 상황입니다.

이 훅은 AI가 도구를 사용할 때마다 자동으로 작업 내용을 요약해서 저장하게 만듭니다.

**기능:**
- AI가 터미널 명령을 내리거나 파일을 수정하고 나면(PostToolUse), 그 결과를 요약해서 `memory.md` 같은 파일에 자동으로 기록합니다.

**비개발자에게 좋은 점:**
- 대화가 길어져서 채팅창을 새로 열어도, AI가 이 파일을 읽고 "아, 지난번에 여기까지 작업했군요"라고 바로 알아듣습니다.
- **'클로드 멤(Claude Mem)'** 같은 플러그인을 설치하면 이 훅이 자동으로 설정되어 "기억 상실증"을 100% 해결할 수 있습니다.

</LevelBox>

### 2. "주인님 다 했어요" 알림 훅 (Notification Hook)

<LevelBox>

AI에게 "이거 분석해서 보고서 써줘"라고 시키고 유튜브를 보거나 다른 업무를 볼 때 유용합니다.

**기능:**
- AI의 작업이 성공적으로 끝나거나, 반대로 에러가 나서 멈췄을 때 컴퓨터에서 '띵' 소리가 나거나 음성으로 알려주게 설정합니다.

**비개발자에게 좋은 점:**
- 하염없이 검은 화면(터미널)만 쳐다보고 있을 필요가 없습니다.
- 딴짓하다가도 알림 소리를 듣고 바로 업무에 복귀할 수 있어 효율적입니다.

</LevelBox>

### 3. 작업 일지 자동 작성 훅 (Changelog / Hand-off Hook)

<LevelBox>

개발자는 '커밋 메시지'를 쓰지만, 비개발자는 '업무 일지'가 필요합니다.

내가 시킨 일을 AI가 제대로 했는지 기록으로 남기는 훅입니다.

**기능:**
- AI가 파일을 수정하거나 생성할 때마다, "어떤 파일을 왜 수정했는지"를 자동으로 `changelog.md` 파일에 기록합니다.

**비개발자에게 좋은 점:**
- 나중에 "내가 그때 뭐라고 시켜서 결과물이 이렇게 나왔지?"라고 헤맬 필요가 없습니다.
- 자동으로 생성된 업무 일지를 보며 프로젝트의 진행 상황을 한눈에 파악할 수 있습니다 (소스에서는 '핸드오프'라고도 표현합니다).

</LevelBox>

---

## 💡 훅 설정 방법

<Callout type="success" title="비개발자도 쉽게 시작하는 방법">

비개발자가 훅 코드를 직접 짜는 것은 어렵습니다. 따라서 다음과 같은 방법을 추천합니다.

**방법 1: 플러그인 활용**
- **'Oh-My-ClaudeCode'**나 'Claude Mem' 같은 패키지를 설치하면 위에서 말한 메모리 훅과 자동화 훅들이 기본으로 포함되어 있어 **설치만 하면 바로 작동**합니다.

**방법 2: AI에게 시키기**
- 클로드 코드에게 **"파일을 저장할 때마다 내용을 요약해서 memory.md에 업데이트하는 훅을 만들어줘"**라고 자연어로 명령하면, AI가 알아서 설정 파일을 만들어 줍니다.

**결론:**
비개발자라면 복잡한 검증 훅보다는 **'기억 유지(Memory)'**와 **'작업 완료 알림(Notify)'** 훅 두 가지만 먼저 챙기셔도 업무 효율이 배로 올라갑니다.

</Callout>

---

## 실전 예시

### 예시 1: 커밋 전 자동 품질 검사 (pre-commit)

보고서를 제출하기 전에 자동으로 맞춤법과 서식을 검사하는 것과 같습니다.

```bash
# .claude/hooks/pre-commit.sh
#!/bin/bash
echo "품질 검사 실행 중..."
npm run lint
if [ $? -ne 0 ]; then
  echo "품질 검사 실패. 커밋이 취소됩니다."
  exit 1
fi
echo "품질 검사 통과!"
```

### 예시 2: 작업 완료 알림 (post-task)

비개발자도 쉽게 이해할 수 있는 알림 훅입니다.

```bash
# .claude/hooks/post-task.sh
#!/bin/bash
# 작업이 완료되면 슬랙으로 자동 알림
curl -X POST "https://hooks.slack.com/your-webhook" \
  -H "Content-Type: application/json" \
  -d '{"text": "AI 작업 완료: '"$TASK_NAME"' 결과를 확인하세요!"}'
```

### 예시 3: 세션 시작 시 기억 복원 (session-start)

어제 퇴근 전 상태를 오늘 출근 시 자동으로 복원하는 것과 같습니다.

```bash
# .claude/hooks/session-start.sh
#!/bin/bash
echo "이전 세션 상태를 복원합니다..."
echo "진행 중이던 작업: $(cat .claude/last-task.txt)"
echo "환경 설정 로드 완료!"
```

---

## 훅 + 서브에이전트 + 스킬의 조합

<Callout type="tip" title="세 가지가 함께 작동하는 실전 시나리오">

**시나리오: 유튜브 영상 URL 하나로 멀티 콘텐츠 자동 제작**

```
입력: 유튜브 영상 URL 붙여넣기
  ↓
[훅 - 자동 감지] URL 패턴 감지 → "콘텐츠 제작 모드" 자동 시작
  ↓
[서브에이전트 - 전문가 직원]
  ├─ 분석 담당: 영상 내용 파악, 핵심 주제 추출
  ├─ 기획 담당: 블로그/SNS/뉴스레터 구조 설계
  └─ 작성 담당: 각 채널별 콘텐츠 작성
  ↓
[스킬 - 업무 매뉴얼]
  ├─ "블로그 작성 스킬": 서론-본론-결론 구조, SEO 최적화
  ├─ "SNS 포스팅 스킬": 플랫폼별 톤앤매너, 해시태그 규칙
  └─ "번역 스킬": 한/영/일 다국어 변환 규칙
  ↓
[훅 - 자동 알림] 모든 콘텐츠 완성 → 팀 채널에 결과물 자동 공유
```

</Callout>

---

## 세 가지 개념 한눈에 비교

| 구분 | 서브에이전트 | 스킬 | 훅 |
|------|-----------|------|-----|
| **회사 비유** | 전문가 직원 | 업무 매뉴얼(SOP) | 자동 감지 센서 |
| **역할** | 생각하고 판단하고 실행 | 작업 방법과 기준 제공 | 자동 감지 및 반응 |
| **작동 방식** | AI가 판단해서 호출 | 필요할 때 참조 | 이벤트 발생 시 자동 실행 |
| **비유** | "이 일은 김 대리가 처리해" | "이 매뉴얼대로 해" | "이 상황이 되면 자동으로 해" |
| **특징** | 독립된 기억 공간 보유 | 평소엔 제목만, 필요 시 전체 로드 | 한 번 설정하면 항상 작동 |

<Callout type="warning" title="조합의 핵심 원리">

- **훅**은 "언제" 시작할지를 결정합니다 (자동 트리거)
- **서브에이전트**는 "누가" 처리할지를 결정합니다 (전문가 배정)
- **스킬**은 "어떻게" 처리할지를 결정합니다 (품질 기준)

이 세 가지를 잘 조합하면, 한 마디 지시로 **전문가 수준의 결과물**이 **자동으로** 만들어집니다.

</Callout>

---

<Callout type="tip" title="한줄 요약">
훅은 "자동 감지 센서"입니다. 한 번 설정하면 AI가 린트, 테스트, 알림을 알아서 챙겨줍니다.
</Callout>
